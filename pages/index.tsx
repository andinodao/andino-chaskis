const Web3 = require("web3");

import Head from "next/head";

import Header from "../components/Header";

import { Toolbar, Box, Typography, Button } from "@mui/material";

import { Web3Button, Web3Modal } from "@web3modal/react";

import {
  EthereumClient,
  modalConnectors,
  walletConnectProvider,
} from "@web3modal/ethereum";

import { configureChains, createClient, WagmiConfig } from "wagmi";

import { arbitrum, mainnet, polygon } from "wagmi/chains";

export default function Home() {
  const chains = [arbitrum, mainnet, polygon];

  // Wagmi client
  const { provider } = configureChains(chains, [
    walletConnectProvider({ projectId: "<YOUR_PROJECT_ID>" }),
  ]);
  const wagmiClient = createClient({
    autoConnect: true,
    connectors: modalConnectors({ appName: "web3Modal", chains }),
    provider,
  });

  // Web3Modal Ethereum Client
  const ethereumClient = new EthereumClient(wagmiClient, chains);

  return (
    <WagmiConfig client={wagmiClient}>
      <Head>
        <title>Andino Chaski</title>
        <meta name='description' content='Generated by create next app' />
        <link rel='icon' href='/favicon.ico' />
      </Head>
      <Header />
      <Toolbar />

      <main className={""}>
        <Web3Modal
          projectId='53a03da6cd540db3c48e5f7b0642a088'
          ethereumClient={ethereumClient}
        />
        <Box
          sx={{
            display: "flex",
            justifyContent: "center",
            alignItems: "center",
            height: "calc(100vh - 120px)",
          }}
        >
          <Box
            sx={{
              backgroundColor: "#eeeeee",
              borderRadius: 4,
              width: { xs: "80%", sm: "30%" },
              height: { xs: "25vh", sm: "30vh" },
              flexDirection: "column",
              display: "flex",
              justifyContent: "space-evenly",
              alignItems: "center",
              px: 3,
              boxShadow: "10px 10px 8px 0px rgba(0,0,0,0.17)",
            }}
          >
            <Typography
              variant='h1'
              textAlign='center'
              sx={{ fontSize: { xs: 22, sm: 25 } }}
            >
              Empieza a usar Andino Chaski
            </Typography>
            <Web3Button icon='show' label='Connect Wallet' balance='hide' />
          </Box>
        </Box>
      </main>
    </WagmiConfig>
  );
}
